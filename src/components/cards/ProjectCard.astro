---
import type { Project } from "@/types/types";

import DescriptionItem from "@/components/lists/DescriptionItem.astro";
import ProiconsGithub from "@/components/icons/ProiconsGithub.astro";
import ProiconsOpen from "@/components/icons/ProiconsOpen.astro";
import CardHeader from "@/components/static/CardHeader.astro";
import IconLink from "@/components/buttons/IconLink.astro";

import BaseCard from "@/components/cards/BaseCard.astro";
import ChipCard from "@/components/cards/ChipCard.astro";

const { title, date, tech, link, description, snapshot, github } = Astro.props as Project;
---

<BaseCard>
    <header class="flex gap-2 flex-wrap items-center-safe">
        <CardHeader class="flex items-center gap-2">
            {link && <span class="recent rounded bg-green-500 size-2 inline-block animate-pulse" style="box-shadow: 0 0 4px #6cc64480;" />}
            {title ?? "Software Developer"}
            {
                link && (
                    <IconLink href={link} target="__blank" title="Demo">
                        <ProiconsOpen />
                    </IconLink>
                )
            }
            {
                github && (
                    <IconLink href={github} target="__blank" title="Github">
                        <ProiconsGithub />
                    </IconLink>
                )
            }
        </CardHeader>

        <p class="text-neutral-700 dark:text-neutral-300">{date ?? "Now"}</p>
        <div class="flex flex-wrap gap-2 w-full">
            {
                tech.map((tech) => {
                    return <ChipCard key>{tech}</ChipCard>;
                })
            }
        </div>
    </header>

    {snapshot && <p>{snapshot}</p>}
    {
        description && description.length > 0 && (
            <ul class="font-figtree">
                {description.map((entry) => {
                    return <DescriptionItem>{entry}</DescriptionItem>;
                })}
            </ul>
        )
    }
</BaseCard>
